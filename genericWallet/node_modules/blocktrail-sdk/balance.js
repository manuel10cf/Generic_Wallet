var blocktrail = require('./main'); // require('blocktrail-sdk') when trying example from in your own project
var crypto = require('crypto');
var fs = require('fs');
var path = require('path');

var LIBPATH = path.normalize(__dirname + '/..');

var client = blocktrail.BlocktrailSDK({
    apiKey : process.env.BLOCKTRAIL_SDK_APIKEY,
    apiSecret : process.env.BLOCKTRAIL_SDK_APISECRET,
    network: 'BTC',
    testnet: true
});

//create a new wallet
var walletIdentifier = 'segwit9999b';
var password = 'iHguXTT`~]6z\'%4"*NMd|G2L"/eq6g*\\$<YkKwoCTK;qb~Yf#v';
var keyPath = "M/9999'/2/0";

client
    .initWallet({identifier: walletIdentifier, keyIndex: 9999, password: password})
    .then(function(wallet) {
        wallet.chain = 2

        wallet
            .getBalance()
            .then(function (bal) {
                console.log(bal)
            })

    }, function (err) {
        console.log("createNewWallet ERR", err);
    });
