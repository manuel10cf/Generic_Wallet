var blocktrail = require('./main'); // require('blocktrail-sdk') when trying example from in your own project
var crypto = require('crypto');
var fs = require('fs');
var path = require('path');

var LIBPATH = path.normalize(__dirname + '/..');

var client = blocktrail.BlocktrailSDK({
  apiKey : process.env.BLOCKTRAIL_SDK_APIKEY,
  apiSecret : process.env.BLOCKTRAIL_SDK_APISECRET,
  testnet: true
});

//create a new wallet
var walletIdentifier = "nodejs-example-" + crypto.randomBytes(24).toString('hex');
client.createNewWallet(walletIdentifier, "example-strong-password", 9999, function(err, wallet, backupInfo) {
  if (err) {
    return console.log("createNewWallet ERR", err);
  }

  console.log('wallet ', wallet);
  console.log('backupInfo ', backupInfo);
});
