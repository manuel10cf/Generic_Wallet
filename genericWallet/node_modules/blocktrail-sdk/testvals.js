var blocktrail = require('./main'); // require('blocktrail-sdk') when trying example from in your own project
var crypto = require('crypto');
var fs = require('fs');
var crypto = require('crypto')
var path = require('path');
var eli5 = true
function randomBytes(l) {
  return new Buffer(crypto.randomBytes(l))
}

var saltLen = 10;
var salt = randomBytes(saltLen)
var ptLen = 32;
var pt = randomBytes(ptLen)
var ivLen = 16;
var iv = randomBytes(16)
var iterations = 35000

var password = new Buffer('password - its secure')
var Encryption = require('./lib/encryption')
var Mnemonic = require('./lib/mnemonic')
var KeyDerivation = require('./lib/keyderivation')

var ct = Encryption.encryptWithSaltAndIV(pt, password, salt, iv, iterations)
var ctFullLen = ct.length

if (eli5) {
  console.log('saltLen: ', saltLen)
  console.log('ptLen  : ', ptLen)
  console.log()
  console.log('expr   : 1 + saltLen + 4 + 16 + ctLen + 16)')
  console.log('expr   : 37 + saltLen + ptLen )')
  console.log('expr   : 37 + ',saltLen ,'+ ',ptLen,' )')
  console.log('expr   : ',37+saltLen+ptLen)
  console.log('output : ', ctFullLen)
}
function getwords(ct) {
  var encoded = Mnemonic.encode(ct)
  var wordCount = encoded.split(' ').length
  console.log('words : ' , wordCount)
}
getwords(ct)

getwords(Encryption.encrypt(pt, password))