var blocktrail = require('./main'); // require('blocktrail-sdk') when trying example from in your own project
var crypto = require('crypto');
var fs = require('fs');
var path = require('path');

var LIBPATH = path.normalize(__dirname + '/..');

var client = blocktrail.BlocktrailSDK({
    apiKey : 'b8160428592911ba0ff5bb734c9b0fd9a8c3f8ab',//process.env.BLOCKTRAIL_SDK_APIKEY,
    apiSecret : '3a74de758544c33fd7c7a39003dc27d2b0de0723',//process.env.BLOCKTRAIL_SDK_APISECRET,
    testnet: true
});

//create a new wallet
var walletIdentifier = "unittest-transaction";

client
    .initWallet({identifier: walletIdentifier, password: "password", key_index: 9999})
    .then(function(wallet) {
        var result = wallet.coinSelection({
            "mjgZHpD1AzEixLgcnncod5df6CntYK4Jpi": 123410
        }).then(function(result) {
            console.log('got it');
            console.log(result);
        }, function (e) {
            console.log(e)
            console.log('innr err');
        })

        console.log(result);
    }, function (err) {
    console.log("createNewWallet ERR", err);
});
