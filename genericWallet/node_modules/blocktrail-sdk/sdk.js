var blocktrail = require('./main'); // require('blocktrail-sdk') when trying example from in your own project
var crypto = require('crypto');
var fs = require('fs');
var path = require('path');

var LIBPATH = path.normalize(__dirname + '/..');

var client = blocktrail.BlocktrailSDK({
    apiKey : 'b8160428592911ba0ff5bb734c9b0fd9a8c3f8ab',//process.env.BLOCKTRAIL_SDK_APIKEY,
    apiSecret : '3a74de758544c33fd7c7a39003dc27d2b0de0723',//process.env.BLOCKTRAIL_SDK_APISECRET,
    network: 'BCC',
    testnet: false
});

//create a new wallet
var walletIdentifier = "litecoinrecovery";
var password = 'GKs{{lxlIE"-~?g/Z4/E7Y~?=$dZF\\';

client
    .initWallet({identifier: walletIdentifier, password: password})
    .then(function(wallet) {
        console.log(wallet);

        var res = wallet.pay({
            '3EXRAecvZa3A4w7ZJaJCXbVH4z91HcZ2zx': 43000
        }, '37pxVw254v61mXmNdL7CNag4ueZCbZ5mCH', true);

        console.log(res)
        return res
    }, function (err) {
    console.log("createNewWallet ERR", err);
}).then(function () {
    console.log('got and done');
}, function () {
    console.log('got an error');
});
