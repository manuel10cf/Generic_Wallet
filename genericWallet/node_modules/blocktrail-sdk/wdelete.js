var blocktrail = require('./main');

var client = blocktrail.BlocktrailSDK({
  apiKey : process.env.BLOCKTRAIL_SDK_APIKEY,
  apiSecret : process.env.BLOCKTRAIL_SDK_APISECRET,
  testnet : true
});

var passphrase = 'alakvnjaksdfjakskbfasdhjfbasdfalsdfkasjbdfmnabasdufiuwebfasafndmbaxcnasxlabgfngbdsbgksfjgb';
var opt = {
  identifier: "test-v3-testdeferred",
  passphrase: passphrase
};

client.createNewWallet(opt)
  .then(function(wallet) {
    console.log('did we make it?')
    client.initWallet(opt).then(function (wallet) {
      console.log('got it');

      wallet.deleteWallet().then(function () {
        console.log('deleted also');
      })
    })
  }, function (note) {
    console.log(note);
  });